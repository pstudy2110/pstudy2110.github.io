<!doctype html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="./../css/united.css" rel="stylesheet">
  <style>
    .min-h-98p{
      min-height: 98%;
    }
    a {
      -webkit-tap-highlight-color: rgba(0,0,0,0);
    }
   
    .artplayer-app {
        width: 800px;
        height: 450px;
    }
  </style>
</head>
<body>
    <div class="flex flex-row min-h-screen justify-center items-center">
        
        <div class="flex flex-col w-full max-w-sm px-4 py-8 bg-white rounded-lg shadow dark:bg-blue-200 sm:px-6 md:px-8 lg:px-10">
            <div class="self-center mb-6 text-xl text-gray-600 sm:text-2xl dark:text-white font-bold">
                Push App
            </div>
            <div class="mt-8">
                <form action="#" autoComplete="off">
                    <div class="flex flex-col mb-6">
                        
                            <div class="flex relative ">
                                <span class="rounded-l-md inline-flex  items-center px-3 border-t bg-white border-l border-b  border-gray-300 text-gray-500 shadow-sm text-sm">
                                    server :
                                </span>
                                <input type="text" id="inputUrl" class=" rounded-r-lg flex-1 appearance-none border border-gray-300 w-full py-2 px-4 bg-white text-gray-700 placeholder-gray-400 shadow-sm text-base focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent" name="inputUrl" placeholder="http://localhost:8000" required/>
                            </div>
                    </div>
                    <div class="flex flex-col mb-2">
                        <div class="flex relative ">
                            <span class="rounded-l-md inline-flex  items-center px-3 border-t bg-white border-l border-b  border-gray-300 text-gray-500 shadow-sm text-sm">
                                <svg width="15" height="15" fill="currentColor" viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M1376 768q40 0 68 28t28 68v576q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-576q0-40 28-68t68-28h32v-320q0-185 131.5-316.5t316.5-131.5 316.5 131.5 131.5 316.5q0 26-19 45t-45 19h-64q-26 0-45-19t-19-45q0-106-75-181t-181-75-181 75-75 181v320h736z">
                                    </path>
                                </svg>
                            </span>
                            <input type="password" id="inputToken" class=" rounded-r-lg flex-1 appearance-none border border-gray-300 w-full py-2 px-4 bg-white text-gray-700 placeholder-gray-400 shadow-sm text-base focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent" placeholder="The Token" required/>
                        </div>
                           
                    </div>

                    <div class="flex flex-col mb-2">
                        <div class="flex relative ">
                            <span class="rounded-l-md inline-flex  items-center px-3 border-t bg-white border-l border-b  border-gray-300 text-gray-500 shadow-sm text-sm">
                                <svg width="15" height="15" fill="currentColor" viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M1792 710v794q0 66-47 113t-113 47h-1472q-66 0-113-47t-47-113v-794q44 49 101 87 362 246 497 345 57 42 92.5 65.5t94.5 48 110 24.5h2q51 0 110-24.5t94.5-48 92.5-65.5q170-123 498-345 57-39 100-87zm0-294q0 79-49 151t-122 123q-376 261-468 325-10 7-42.5 30.5t-54 38-52 32.5-57.5 27-50 9h-2q-23 0-50-9t-57.5-27-52-32.5-54-38-42.5-30.5q-91-64-262-182.5t-205-142.5q-62-42-117-115.5t-55-136.5q0-78 41.5-130t118.5-52h1472q65 0 112.5 47t47.5 113z">
                                    </path>
                                </svg>
                            </span>
                            <input type="text" id="inputTitle" class=" rounded-r-lg flex-1 appearance-none border border-gray-300 w-full py-2 px-4 bg-white text-gray-700 placeholder-gray-400 shadow-sm text-base focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent" placeholder="Title of message" required/>
                        </div>
                    </div>
                    <div class="flex flex-col mb-2 items-center">
                        
                        <div class="shadow-lg rounded-2xl w-full p-4 bg-white relative overflow-hidden">
                                <p class="text-gray-800 text-lg font-medium mb-2">
                                    Message
                                </p>
                                <textarea class="flex-1 appearance-none border border-gray-300 w-full py-2 px-2 bg-white text-gray-700 rounded-lg text-base focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent" id="inputMessage" name="inputMessage" rows="5" cols=""></textarea>
                        </div>
                    </div>
                        <div class="flex w-full">
                            <button type="submit" class="py-2 px-4  bg-purple-300 hover:bg-purple-700 focus:ring-purple-500 focus:ring-offset-purple-200 text-white w-full transition ease-in duration-200 text-center text-base font-semibold shadow-md focus:outline-none focus:ring-2 focus:ring-offset-2  rounded-lg " onclick="Submit()">
                                Send
                            </button>
                        </div>
                </form>
            </div>
        </div>

                

    </div>
    <div class="flex flex-row flex-wrap sm:flex-col  justify-center content-center my-28">
        <div>
            <a class="font-bold text-center text-xl">In Action</a>
        </div>
        <div class="artplayer-app"></div>
    
    </div>
    <script src="../js/artplayer.js"></script>
    <script src="../js/artplayer-plugin-danmuku.js"></script>
    <script>
        var art = new Artplayer({
            container: '.artplayer-app',
            url: './../video/4pushapp.mkv',
            poster: './../img/videoalt.jpg',
            playbackRate: true,
            hotkey: true,
            setting: true,
            fullscreen: true,
            miniProgressBar: true,
                
        });
  
    </script>
    


<script>
    function Submit() {
        let xhr = new XMLHttpRequest();
        let url = document.getElementById("inputUrl").value;
        let token = document.getElementById("inputToken").value;
        let title = document.getElementById("inputTitle").value;
        let message = document.getElementById("inputMessage").value;
        xhr.open("POST", url+token);
        xhr.setRequestHeader("Accept", "application/json");
        xhr.setRequestHeader("Content-Type", "application/json");

        xhr.onreadystatechange = function () {
        if (xhr.readyState === 4) {
            console.log(xhr.status);
            console.log(xhr.responseText);
        }};

        let data = {
                "title": title ,
                "message": message,
            }
        ;

        xhr.send(data);
    }
</script>
<script>
    textarea = document.querySelector("#inputMessage");
    textarea.addEventListener('input', autoResize, false);
    
    function autoResize() {
        this.style.height = 'auto';
        this.style.height = this.scrollHeight + 'px';
    }
</script>
</body>
</html>